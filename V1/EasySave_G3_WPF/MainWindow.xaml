<Window x:Class="EasySave_G3_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:EasySave_G3_WPF"
        Title="EasySave 2.0"
        Width="1200" Height="600"
        Background="#9D9D9D">

    <!-- ================== Ressources ================== -->
    <Window.Resources>
        <Style x:Key="CircleBtn" TargetType="Button">
            <Setter Property="Width"  Value="65"/>
            <Setter Property="Height" Value="65"/>
            <Setter Property="Background" Value="Black"/>
            <Setter Property="BorderBrush" Value="Black"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Ellipse Fill="{TemplateBinding Background}"/>
                            <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- ================ Layout principal ================ -->
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" MinHeight="80"/>
            <!-- titre + console -->
            <RowDefinition Height="*"/>
            <!-- DataGrid -->
            <RowDefinition Height="Auto" MinHeight="80"/>
            <!-- pied de page -->
        </Grid.RowDefinitions>

        <!-- Ligne 0 : Titre & Console -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                 Text="Sauvegarde(s):"
                 FontSize="48"
                 FontWeight="Bold"
                 VerticalAlignment="Center"
                 Grid.ColumnSpan="2"/>

            <TextBlock Grid.Column="2"
                 FontFamily="Segoe MDL2 Assets"
                 Text="&#xE756;"
                 FontSize="32"
                 VerticalAlignment="Top"
                 HorizontalAlignment="Center"
                 ToolTip="Ouvrir l’invite de commandes"/>
        </Grid>

        <!-- Ligne 1 : DataGrid avec <DataGrid.Items> -->
        <DataGrid x:Name="ScenarioGrid"
              Grid.Row="1"
              AutoGenerateColumns="False"
              CanUserAddRows="False"
              HeadersVisibility="Column"
              GridLinesVisibility="All"
              RowHeight="60"
              FontSize="14"
              ColumnWidth="*"
              Margin="0,10,0,10"
              BorderBrush="Black"
              BorderThickness="1"
              VerticalGridLinesBrush="Black"
              HorizontalGridLinesBrush="Black"
              ScrollViewer.VerticalScrollBarVisibility="Visible"
              ScrollViewer.HorizontalScrollBarVisibility="Auto">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Name"        Binding="{Binding Name}"        Width="120"/>
                <DataGridTextColumn Header="Source"      Binding="{Binding Source}"      Width="180"/>
                <DataGridTextColumn Header="Target"      Binding="{Binding Target}"      Width="180"/>
                <DataGridTextColumn Header="BackupType"  Binding="{Binding BackupType}"  Width="110"/>
                <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="180"/>
                <DataGridTextColumn Header="Etat"        Binding="{Binding Etat}"        Width="80"/>
                <DataGridCheckBoxColumn Header="Select"  Binding="{Binding Select}"      Width="80"/>
                <DataGridTemplateColumn Header="Modifier / Supprimer" Width="140">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Background="Transparent"
                        BorderThickness="0"
                        ToolTip="Modifier"
                        Click="Modifier_Click">
                                    <TextBlock FontFamily="Segoe MDL2 Assets"
                             Text="&#xE70F;"
                             FontSize="20"/>
                                </Button>
                                <Button Background="Transparent"
                        BorderThickness="0"
                        Margin="8,0,0,0"
                        ToolTip="Supprimer"
                        Click="Supprimer_Click">
                                    <TextBlock FontFamily="Segoe MDL2 Assets"
                             Text="&#xE74D;"
                             FontSize="20"/>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>

            <!-- Ici on ajoute manuellement deux lignes de test -->
            <DataGrid.Items>
                <local:Sauvegarde Name="Sauvegarde A"
                          Source="C:\SourceA"
                          Target="D:\BackupA"
                          BackupType="Full"
                          Description="Test 1"
                          Etat="OK"
                          Select="True" />
                <local:Sauvegarde Name="Sauvegarde B"
                          Source="C:\SourceB"
                          Target="D:\BackupB"
                          BackupType="Diff"
                          Description="Test 2"
                          Etat="KO"
                          Select="False" />
            </DataGrid.Items>
        </DataGrid>

        <!-- Ligne 2 : Pied de page -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0"
                  Orientation="Vertical"
                  HorizontalAlignment="Left"
                  VerticalAlignment="Bottom"
                  Margin="20,0,0,20">
                <Button Style="{StaticResource CircleBtn}" ToolTip="Démarrer">
                    <TextBlock FontFamily="Segoe MDL2 Assets"
                     Text="&#xE768;"
                     FontSize="32"
                     Foreground="White"/>
                </Button>
                <TextBlock Text="Play"
                   FontSize="20"
                   FontWeight="Bold"
                   Margin="0,5,0,0"/>
            </StackPanel>

            <StackPanel Grid.Column="1"
                  Orientation="Horizontal"
                  HorizontalAlignment="Right"
                  VerticalAlignment="Bottom"
                  Margin="0,0,20,20">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Margin="0,0,20,0">
                    <Button Style="{StaticResource CircleBtn}" ToolTip="Ajouter">
                        <TextBlock FontFamily="Segoe MDL2 Assets"
                       Text="&#xE710;"
                       FontSize="32"
                       Foreground="White"/>
                    </Button>
                    <TextBlock Text="Ajouter"
                     FontSize="20"
                     FontWeight="Bold"
                     HorizontalAlignment="Center"
                     Margin="0,5,0,0"/>
                </StackPanel>
                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <Button Style="{StaticResource CircleBtn}" ToolTip="Paramètres">
                        <TextBlock FontFamily="Segoe MDL2 Assets"
                       Text="&#xE713;"
                       FontSize="32"
                       Foreground="White"/>
                    </Button>
                    <TextBlock Text="Paramètre"
                     FontSize="20"
                     FontWeight="Bold"
                     HorizontalAlignment="Center"
                     Margin="0,5,0,0"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
